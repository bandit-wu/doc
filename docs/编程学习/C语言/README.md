---
sidebar: 'auto'
---
# C语言

## 一、进制转换

### 1、进制转换

| **二→十六** |      8421法      |
| :---------: | :--------------: |
|  **二→八**  |    **421法**     |
|  **二→十**  | **按权展开求和** |
|  **八→十**  | **按权展开求和** |
| **十六→十** | **按权展开求和** |
|  **十→二**  |  **除N倒取余**   |
|  **十→八**  |  **除N倒取余**   |
| **十→十六** |  **除N倒取余**   |

### 2、原反补码

#### （1）原码

|      X（最左侧一位）       | XXXXXXX（后七位） |
| :------------------------: | :---------------: |
| 符号位（0代表正，1代表负） |  数值（二进制）   |

#### （2）反码

| 正数       | 负数                                 |
| ---------- | ------------------------------------ |
| 正数的原码 | 负数的符号位不变，数值部分每一位取反 |

#### （3）补码

| 正数       | 负数         |
| ---------- | ------------ |
| 正数的原码 | 负数的反码+1 |

### 3、ASCII码

|  字符   |  0~9  |  A~Z  |  a~z   |
| :-----: | :---: | :---: | :----: |
| ASCII码 | 48~57 | 65~90 | 97~122 |

### 4、标识符

① 由阿拉伯数字、字母、下划线组成

② 开头不能为数字

③ 区分大小写（例如SUM和sum在C语言中表示不同的标识符）

④ 不能采用C语言中的关键字作为标识符

### 5、关键字

|   auto    | short  |   int    |   long   |
| :-------: | :----: | :------: | :------: |
|   float   | double |   char   |  struct  |
|   union   |  enum  | typedef  |  const   |
| unsigned  | signed |  extern  | register |
| volatilie |  void  |    if    |   else   |
|  switch   |  case  |   for    |    do    |
|   while   |  goto  | continue |  break   |
|  default  | static |  sizeof  |  return  |

## 二、数据类型和运算符

### 1、数据类型

#### 格式控制符

|        %d         |     %o     |      %x      |  %ld   |    %u    |                          %f                          |     %lf      |  %c  |        |
| :---------------: | :--------: | :----------: | :----: | :------: | :--------------------------------------------------: | :----------: | :--: | :----: |
|    十进制整型     | 八进制整型 | 十六进制整型 | 长整型 | 无符号数 |                     单精度浮点型                     | 双精度浮点型 |      | 字符串 |
|        %md        |            |              |        |          |                        %m.nf                         |              |      |        |
| m代表输出的总长度 |            |              |        |          | m代表输出的总长度，n代表保留小数的位数（要四舍五入） |              |      |        |

#### （1）整型--int、short、long

① 整型即整数，在C语言中（十进制）采用**补码**的形式表示

② 在C语言中，能表示的进制数包括十进制、八进制（前导为0）、十六进制（前导为0x）

#### （2）实型--float、double

① 用%f、%lf输出实型数据时默认保留六位小数

② float占4个字节

③ double占8个字节

④ 指数型由e和E组成，e的两边必须有数字，e右边必须是整数

#### （3）字符型--char

① 西文字符在计算机内部采用**ASCII码**的形式存储

### 2、运算符优先级

|      |      |      |      |
| ---- | ---- | ---- | ---- |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |

## 三、顺序结构

## 四、选择结构

### 1、if

~~~c
if（条件）{
    语句1；
    语句2；
    ...
}
~~~

### 2、if...else...

~~~c
if（条件）{
    语句1；
    语句2；
    ...
}else{
    语句3；
   	语句4；
   	...
}
~~~

### 3、if...else if...else...

~~~c
if（条件1）{
    语句1；
    语句2；
}else if（条件2）{
    语句5；
    语句6；
    ...
}else{
    语句3；
   	语句4；
   	...
}
~~~

### 4、switch

首先执行表达式，当表达式的值和case的常量相符时，就执行此case后面语句，并依次向下执行后面所有的语句

~~~c
switch（表达式）{
    case常量1：语句1；
    case常量2：语句2；
        ...
    default：语句n；
}
~~~

case后面的常量必须为整型常量和字符型常量，不能为实型常量或变量

### 5、短路运算

#### （1）与--有假必假

假&&被短路

真&&被执行

#### （2）或--有真必真

假||被执行

真||被短路

## 五、循环结构

### 1、while循环

先判断条件，条件为真，后执行循环结构，循环语句可能一次也不执行

~~~c
while(条件){
    语句1；
    语句2；
}
~~~

#### #（1）求最大公约数

~~~c
//更相减损发
#include<stdio.h>
int main（）{
    int a=63,b=15;
    while(a!=b){
        if(a>b) a-=b;
        if(b>a) b-=a;
    }
    printf("%d\n",a);
    return 0;
}

//辗转相除法
#include<stdio.h>
int main(){
    int a=18,b=33,t;
    while(b!=0){
        t=a%b;
        a=b;
        b=t;
    }
    prnitf("%d\n",a);
    return 0;
}
~~~

### 2、do while循环

先执行循环结构，在判断条件，条件为真，接着执行循环结构，循环语句至少执行一次

~~~c
do{
    语句1；
    语句2；
}while（条件）；
~~~

### 3、for循环

先执行式子1，然后判断式子2，式子2为真，执行循环语句，循环语句执行完，再执行式子3，式子3执行完再去判断式子2的真假，直到为假，循环结束

~~~c
for（式子1（初值）；式子2（条件）；式子3（增量））{
    语句；
}
~~~

#### #（1）水仙花数

~~~c
#include <stdio.h>

int main() {
	int i;
	int a,b,c;
	for(i=100;i<1000;i++){ 
		a=i%10;
		b=i/10%10;
		c=i/100;
		if((a*a*a+b*b*b+c*c*c) == i){
			printf("%d\n",i);
		}
	} 
	return 0;
}
~~~

#### #（2）完数

~~~c
#include <stdio.h>

int main() {
	int i;
	int n, sum = 0;
	scanf("%d", &n);
	for (i = 1; i < n; i++) {
		if ((n % i) == 0) {
			sum += i;
		}
	}
	if (n == sum) {
		printf("n是完数\n");
	} else {
		printf("n不是完数\n");
	}
	return 0;
}
~~~

### 4、break和continue

break只结束他所在的循环

continue结束本次循环，继续执行下一次循环（只能出现在循环语句中）

#### #（1）质数

~~~c
#include <stdio.h>

int main() {
	int i;
	int n, k = 1;
	scanf("%d",&n);
	for (i = 2; i < n; i++) {
		if ((n % i) == 0) {
			k = 0;
			break;
		}
	}
	if (k == 1) {
		printf("%d是质数\n",n);
	} else {
		printf("%d不是质数\n",n);
	}
	return 0;
}
~~~

## 六、数组

### 1、一维数组

~~~c
数据类型 数组名[常量表达式] = {元素1，元素2，元素3}
~~~

① 定义数组时常量表达式必须为<u>整型常量（表达式）或字符型常量（表达式</u>），不能是<u>实型和变量</u>，也<u>不能为空</u>

② 数组可以整体初始化，但不能整体赋值

③ 未被初始化的数组元素默认为0

#### #（1）一维数组的输出

~~~c
#include <stdio.h>

int main() {
	int a[5] = {1, 0, 6, 8, 5};
	for (int i = 0; i < 5; i++) {
		printf("%d\n", a[i]);
	}
	return 0;
}
~~~

#### #（2）一维数组的输入

~~~c
#include <stdio.h>

int main() {
	int a[5], i;
	for (i = 0; i < 5; i++) {
		scanf("%d", &a[i]);
	}
	return 0;
}
~~~

#### #（3）对数组元素进行求和

~~~c
#include <stdio.h>

int main() {
	int a[10], i, sum = 0;
	for (i = 0; i < 10; i++) {
		scanf("%d", &a[i]);
	}
	for (int i = 0; i < 10; i++) {
		sum += a[i];
	}
	printf("%d", sum);
	return 0;
}
~~~

#### #（4）输出数组的奇数

~~~c
#include <stdio.h>

int main() {
	int a[10], i;
	for (i = 0; i < 10; i++) {
		scanf("%d", &a[i]);
	}
	printf("-------------\n");
	for (i = 0; i < 10; i++) {
		if (a[i] % 2 == 1) printf("%d\n", a[i]);
	}
	return 0;
}
~~~

#### #（5）攻擂法求最值

~~~c
#include <stdio.h>

int main() {
	int a[10] = {1, 2, 4, 5, -2, -16, 8, 9, 3, -9}, i;
	int max = a[0];
	for (i = 0; i < 10; i++) {
		if (a[i] > max) max = a[i];
	}
	printf("max=%d\n", max);
	return 0;
}
~~~

#### #（6）循环右移

~~~c
#include <stdio.h>

int main() {
	int a[5] = {1, 2, 4, 9, 3}, i, k;
	k = a[4];
	for (i = 3; i >= 0; i--) a[i + 1] = a[i];
	a[0] = k;
	for (i = 0; i < 5; i++) printf("%d\t", a[i]);
	printf("\n");
	return 0;
}
~~~

#### #(7)一维数组的逆置

~~~c
#include <stdio.h>

int main() {
	int a[10] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10}, i, j, t;
	for (i = 0, j = 9; i < j; i++, j--) {
		t = a[i];
		a[i] = a[j];
		a[j] = t;
	}
	for (i = 0; i < 10; i++) printf("%d\t", a[i]);
	printf("\n");
	return 0;
}
~~~

#### #（8）查找数组元素

~~~c
//折半查找法
#include <stdio.h>

int main() {
	int a[10] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
	int p = 0, q = 9, m = 0, flag = 0;
	int num;
	scanf("%d", &num);
	while (p <= q) {
		m = p + q / 2;
		if (num < a[m]) q = m - 1;
		if (num > a[m]) q = m + 1;
		if (num == a[m]) {
			flag = 1;
			break;
		}
	}
	if (flag == 1) printf("%d\n", m + 1);
	else printf("Not Found\n");
	return 0;
}
//顺序查找
#include <stdio.h>

int main() {
	int a[10] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
	int i, n;
	scanf("%d", &n);
	for (i = 0; i < 5; i++) {
		if (n == a[i]) break;
	}
	if (i < 5) printf("%d\n", i + 1);
	else printf("Not Found\n");
	return 0;
}
~~~

#### #（9）进制转换

~~~c
//十转二
#include <stdio.h>

int main() {
	int num, i = 0;
	int a[50];
	scanf("%d", &num);
	while (num != 0) {
		a[i] = num % 2;
		num = num / 2;
		i++;
	}
	for (i -= 1; i >= 0; i--) printf("%d", a[i]);
	printf("\n");
	return 0;
}
~~~

#### #（10）斐波那契数列

~~~c
#include <stdio.h>

int main() {
	int n, i;
	int a[50];
	scanf("%d", &n);
	for (i = 0; i <= n; i++) {
		if (i == 0 || i == 1) a[i] = 1;
		else a[i] = a[i - 1] + a[i - 2];
	}
	for (i = 0; i < n; i++)
		printf("%d\t", a[i]);
	return 0;
}
~~~

#### #（11）冒泡排序

~~~c
#include <stdio.h>

int main() {
	int i, j, t;
	int a[5] = {4, 7, -9, 1, 3};
	for (i = 0; i < 4; i++) {
		for (j = 0; j < 4 - i; j++) {
			if (a[j] > a[j + 1]) {
				t = a[j];
				a[j] = a[j + 1];
				a[j + 1] = t;
			}
		}
	}
	for (i = 0; i < 5; i++) printf("%d\t", a[i]);
	printf("\n");
	return 0;
}
~~~

#### #（12）对n个数升序排序模板

~~~c
#include <stdio.h>

int main() {
	int i, j, n ,t;
	int a[10] = {数组};
	for (i = 0; i < n - 1; i++) {
		for (j = 0; j < n - 1 - i; j++) {
			if (a[j] > a[j + 1] ) {
				t = a[j];
				a[j]=a[j+1];
				a[j+1]=t;
			}
		}
	}
	return 0;
}
~~~

### 2、二维数组

~~~c
数据类型 数组名[常量表达式][常量表达式] = {元素1，元素2，元素3}
~~~

① 二维数组是按行存储

② 二维数组元素引用时，行列下标都是从0开始

③ 二维数组在初始化是，可以省略行下标，**不能省略列下标**

 #### #（1）二维数组元素遍历

~~~c
#include <stdio.h>

int main() {
	int i, j;
	int a[3][4] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
	for (i = 0; i < 3; i++) {
		for (j = 0; j < 4; j++) {
			printf("%d\t", a[i][j]);
		}
	}
	printf("\n");
	return 0;
}
~~~

#### #（2）杨辉三角

~~~c
#include <stdio.h>

int main() {
	int i, j;
	int a[10][10] = {0};
	for (i = 0; i < 10; i++) {
		for (j = 0; j < i; j++) {
			if (i == j || j == 0) a[i][j] = 1;
			else a[i][j] = a[i - 1][j] + a[i - 1][j - 1];
		}
	}
	for (i = 0; i < 10; i++) {
		for (j = 0; j < i; j++) {
			printf("%3d", a[i][j]);
		}
		printf("\n");
	}
	return 0;
}
~~~

## 七、函数

~~~c
数据类型 函数名（形式参数列表）{             //声明部分
    声明部分；                           //函数体
    执行部分；
}
~~~

① 函数的调用：分配内存 →参数传递→执行函数→返回→释放内存

② 参数传递的方式：值传递和地址传递

③ 调用方式：函数语句（无返回值“fun（a，b）”），函数表达式（有返回值“c=fun（a，b）”），函数参数（有返回值“m=max（a，max（b，c））”）

④ 重要结论：值传递，不改变

⑤ 函数可以嵌套使用，不能嵌套定义

⑥ 通常情况下函数定义的代码应该放在该函数调用的代码的前面，若函数的调用在前，定义在后，需要加上对该函数的声明

#### #（1）函数的递归调用

~~~c
//有返回值的递归（求n的阶乘）
#include <stdio.h>

int fun(int n) {
	if (n == 1) return 1;
	else return n * fun(n - 1);
}
int main() {
	int x = fun(5);
	printf("%d\n", x);
	return 0;
}
//没有返回值的递归
#include <stdio.h>

int fun(int n) {
	if (n > 0) fun(n + 1);
	printf("%d", n);
}
int main() {
	fun(4);
	return 0;
}
~~~

## 八、变量的作用域和存储类

### 1、变量的作用域

#### （１）局部变量

① 在函数或复合语句内部定义的变量叫做局部变量，它只能在本函数内部和复合语句内部有效

② 形式参数也是局部变量

#### （2）全局变量

① 在函数之外定义的变量叫做全局变量，它的有效范围从定义变量的位置开始到本源文件的结束

② 全局变量和局部变量重名时，局部变量优先，此时全局变量被屏蔽

### ２、存储类

从变量的存在时间（即生存期）角度来划分，可以将变量分为静态存储方式（静态变量）和动态存储方式（动态变量）

| 静态存储区（程序运行期） | 动态存储区（函数调用期间） |
| :----------------------: | :------------------------: |
|         全局变量         |        函数形式参数        |
| 静态局部变量（static）=0 |  自动变量（auto）=随机数   |

#### （1）auto

~~~c
auto 数据类型 变量名；
~~~

#### （2）static

~~~c
static 数据类型 变量名；
~~~

有时希望函数中的局部变量的值在函数调用结束后不消失而保留原值，即其占有的存储单元不释放，在下一次调用时，该变量已有值，就是上一次函数调用结束时的值，这时就应该指定该局部变量为“静态局部变量“，用关键字static进行声明

① 静态变量只在第一次函数调用时初始化

② 函数调用结束时，静态变量不释放，其值要延续到下一次的函数调用

## 九、指针

指针就是地址

### 1、定义指针变量

~~~c
数据类型 *指针变量名；
~~~

### 2、指针变量赋值

~~~c
数据类型 *指针变量名 = &变量
~~~

### 3、指针变量引用

~~~c
//直接访问
变量名
//间接访问
*指针变量名
~~~

### 4、指针与一维数组

一维数组的名字代表一维数组的首地址（首元素的地址）是一个地址常量

#### （1）元素地址的表示方法

~~~c
a+i代表a[i]的地址
~~~

#### （2）元素的表示方法

~~~c
① 直接访问→a[i]
② 间接访问→*(a+i)
~~~

### 5、指针与二维数组

#### （1）元素地址的表示方法

一个【】或一个*

~~~c
① &a[0][0]
② *(a+i)+j
③ a[i]+j
~~~

#### （2）元素的表示方法

两个*，

两个【】，

一个*和一个【】

~~~c
① a[i][j]
② *(a[i]+j)
③ *(*a[i]+j)
~~~

### 6、指针数组

本质为数组，该数组的每一个元素都是指针变量，用于存储地址

~~~c
数据类型 *数组名[常量表达式]
~~~

### 7、数组指针

本质为指针，该指针指向一个一维数组

数组指针是行指针

~~~c
数据类型 （*指针名）[常量表达式]
~~~

### 8、地址传递

实参传递的是地址，对应形参是一个指针变量负责接收这个地址

### 9、指针函数

一个函数可以返回一个整数值、字符型、实型等，也可以返回指针型的数据，即返回地址，这种返回地址的函数叫做指针函数

~~~c
数据类型 *函数名（参数列表）{......}
~~~

### 10、函数指针

本质为指针，该指针指向一个函数

~~~c
数据类型 （*函数名）（参数列表）{......}
~~~

## 十、字符串

字符串保存到内存中以转义字符‘\0’结尾，‘\0’是字符串的结束标志，也占用1个字节的存储空间，并且‘\0’在数值上为1

~~~c
//用字符给字符数组初始化
char s[5]={'a','b','c','d','e'};//a,b,c,d,e
//用字符串给字符数组初始化
char s[5]={"abcd"};//a,b,c,d,\0
char s[5]="abcd";
~~~

### 1、字符串的输入

~~~c
//scanf
char s[20];
scanf("%s",s);
//gets
char s[20];
gets(s);
~~~

① scanf无法输入带空格的字符串

② gets可以输入带空格的字符串

③ gets的参数必须为数组名和指针名

④ gets一次只能输出一个字符串

### 2、字符串的输出

~~~c
//printf
char s[20]="abcd";
printf("%s\n",s);
//puts
char s[20]="abcd";
put(s);
~~~

### 3、字符串的遍历

~~~c
//
#include <stdio.h>

int main() {
	char s[20] = "abcde";
	int i;
	for (i = 0; s[i] != '\0'; i++) printf("%c", s[i]);
	return 0;
}
//
#include <stdio.h>

int main() {
	char s[20] = "abcde", *p;
	p = s;
	while (*p != '\0') {
		printf("%c", *p);
		p++;
	}
	return 0;
}
~~~

### 4、字符串函数

（1）头文件  #include <string.h>

（2）字符串长度 strlen   字节数sizeof

（3）字符串复制 strcpy

（4）字符串连接 strcat

（5）字符串比较 strcmp

## 十一、预编译

预编译即在编译之前处理，C语言提供的预编译功能包括三种：宏定义、文件包含和条件编译

① 预处理命令已#开头

② 每一行只能写一条预处理命令

③ 预处理命令不是C语句，结尾处不加分号

### 1、宏定义

① 宏名一般采用大写

② 宏替换只做替换，不做计算，不做表达式求解

③ 宏定义可以嵌套

④ 可以用#undef命令终止宏的作用域

~~~c
//带参数的宏定义
#define 宏名（参数列表）替换文本
//不带参数的宏定义
#define 宏名 替换文本
~~~

### 2、文件包含

~~~c
//仅在系统目录查找
#include <文件名>
//先在用户目录查找，再在系统目录查找
#include "文件名"
~~~

### 3、条件编译

~~~c
//
#ifdef 标识符
 程序段1
#else
 程序段2
#endif
//
#ifdef 标识符
 程序段1
#else
 程序段2
#endif
//
#if 表达式
 程序段1
#else
 程序段2
#endif
~~~

## 十二、结构体

## 十三、位运算

## 十四、文件

先定义文件指针，再打开文件，最后关闭文件